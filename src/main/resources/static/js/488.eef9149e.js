"use strict";(self["webpackChunkhelloworld"]=self["webpackChunkhelloworld"]||[]).push([[488],{63488:function(e,l,o){o.r(l),o.d(l,{default:function(){return W}});var s=o(440),r=o(54592);const n=e=>((0,s.dD)("data-v-690d3a3c"),e=e(),(0,s.Cn)(),e),a={class:"login-container"},t=n((()=>(0,s._)("div",{class:"title-container"},[(0,s._)("h3",{class:"title"},"SellCloud")],-1))),i={class:"svg-container"},u={class:"svg-container"},d=n((()=>(0,s._)("br",null,null,-1))),p=n((()=>(0,s._)("br",null,null,-1))),c=n((()=>(0,s._)("br",null,null,-1))),m=n((()=>(0,s._)("br",null,null,-1))),h=n((()=>(0,s._)("br",null,null,-1))),g=n((()=>(0,s._)("br",null,null,-1))),w=n((()=>(0,s._)("br",null,null,-1))),f=n((()=>(0,s._)("br",null,null,-1))),y=n((()=>(0,s._)("br",null,null,-1))),_=n((()=>(0,s._)("br",null,null,-1)));function b(e,l,o,n,b,k){const v=(0,s.up)("svg-icon"),T=(0,s.up)("el-input"),C=(0,s.up)("el-form-item"),F=(0,s.up)("el-tooltip"),W=(0,s.up)("el-button"),V=(0,s.up)("el-form");return(0,s.wg)(),(0,s.iD)("div",a,[(0,s.Wm)(V,{ref:"loginForm",model:b.loginForm,rules:b.loginRules,class:"login-form",autocomplete:"on","label-position":"left"},{default:(0,s.w5)((()=>[t,(0,s.Wm)(C,{prop:"username"},{default:(0,s.w5)((()=>[(0,s._)("span",i,[(0,s.Wm)(v,{"icon-class":"user"})]),(0,s.Wm)(T,{ref:"username",modelValue:b.loginForm.username,"onUpdate:modelValue":l[0]||(l[0]=e=>b.loginForm.username=e),placeholder:"Username",name:"username",type:"text",tabindex:"1",autocomplete:"on"},null,8,["modelValue"])])),_:1}),(0,s.Wm)(F,{modelValue:b.capsTooltip,"onUpdate:modelValue":l[4]||(l[4]=e=>b.capsTooltip=e),content:"请输出不小于6位数，且至少包含大小字母及数字",placement:"right",manual:""},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{prop:"password"},{default:(0,s.w5)((()=>[(0,s._)("span",u,[(0,s.Wm)(v,{"icon-class":"password"})]),((0,s.wg)(),(0,s.j4)(T,{key:b.passwordType,ref:"password",modelValue:b.loginForm.password,"onUpdate:modelValue":l[1]||(l[1]=e=>b.loginForm.password=e),type:b.passwordType,placeholder:"Password",tabindex:"2",autocomplete:"on",onKeyup:[(0,r.D2)(k.checkCapslock,["native"]),(0,r.D2)(k.handleLogin,["enter","native"])],onBlur:l[2]||(l[2]=e=>b.capsTooltip=!1)},null,8,["modelValue","type","onKeyup"])),(0,s._)("span",{class:"show-pwd",onClick:l[3]||(l[3]=(...e)=>k.showPwd&&k.showPwd(...e))},[(0,s.Wm)(v,{"icon-class":"password"===b.passwordType?"eye":"eye-open"},null,8,["icon-class"])])])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(W,{loading:b.loading,type:"primary",style:{width:"45%","margin-bottom":"30px","margin-right":"5%"},onClick:(0,r.iM)(k.handleLogin,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Uk)("登录")])),_:1},8,["loading","onClick"]),(0,s.Wm)(W,{loading:b.loading,type:"primary",style:{width:"45%","margin-bottom":"30px","margin-left":"5%"},onClick:(0,r.iM)(k.SignUp,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Uk)("注册")])),_:1},8,["loading","onClick"]),d,p,c,m,h,g,w,f,y,_])),_:1},8,["model","rules"])])}o(57658);var k=o(24452),v=o(39162),T={name:"Login",data(){const e=(e,l,o)=>{(0,k.CI)(l)?o():o(new Error("请输入正确的用户名"))},l=(e,l,o)=>{l.length<6?o(new Error("密码长度不能小于6个字符长度")):o()};return{loginForm:{username:"admin",password:"111111"},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:l}]},passwordType:"password",capsTooltip:!1,loading:!1,showDialog:!1,redirect:void 0,otherQuery:{}}},mounted(){""===this.loginForm.username?this.$refs.username.focus():""===this.loginForm.password&&this.$refs.password.focus()},methods:{checkCapslock(e){const{key:l}=e;this.capsTooltip=l&&1===l.length&&l>="A"&&l<="Z"},showPwd(){"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((()=>{this.$refs.password.focus()}))},handleLogin(){this.$refs.loginForm.validate((e=>{if(!e)return v.log("error submit!!"),!1;this.loading=!0,this.$store.dispatch("user/login",this.loginForm).then((()=>{this.$router.push({path:this.redirect||"/",query:this.otherQuery}),this.loading=!1})).catch((()=>{this.loading=!1}))}))},getOtherQuery(e){return Object.keys(e).reduce(((l,o)=>("redirect"!==o&&(l[o]=e[o]),l)),{})},SignUp(){this.$router.push({path:"/user/sign"})}}},C=o(40465);const F=(0,C.Z)(T,[["render",b],["__scopeId","data-v-690d3a3c"]]);var W=F}}]);
//# sourceMappingURL=488.eef9149e.js.map